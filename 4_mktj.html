<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>4. Mktj-PoC:n käyttö - Metsäkoetietojärjestelmän QField PoC</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "4. Mktj-PoC:n k\u00e4ytt\u00f6";
        var mkdocs_page_input_path = "4_mktj.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> Metsäkoetietojärjestelmän QField PoC
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="0_index.html">Koti</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="1_alkuvalmistelut.html">1. Alkuvalmistelut</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="2_vienti.html">2. Projektin vienti QFieldiin</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="3_qfield.html">3. QFieldin peruskäyttö</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">4. Mktj-PoC:n käyttö</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#huomioita">Huomioita</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tietojen-keruu-ja-muokkaus">Tietojen keruu ja muokkaus</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#koemetsikko-taso">Koemetsikkö-taso</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#koeala-taso">Koeala-taso</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#liittyvat-kohteet">Liittyvät kohteet</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#kokeet-ja-toimenpiteet">Kokeet ja toimenpiteet</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tietojen-haku-tasoilta">Tietojen haku tasoilta</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#massatoiminnot">Massatoiminnot</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#karttateemat">Karttateemat</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="5_qfieldista_qgissiin.html">5. QFieldistä QGISiin</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">Metsäkoetietojärjestelmän QField PoC</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">4. Mktj-PoC:n käyttö</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="metsakoetietojarjestelman-poc-version-kayttaminen">Metsäkoetietojärjestelmän PoC-version käyttäminen</h1>
<p>Kun edeltävien sivujen toimenpiteet on tehty (valmistelu QGISillä, paketointi ja siirto QFieldiin, asetusten ja käyttäjnimen muokkaus) on tehty, voidaan ruveta testaamaan Metsäkoetietojärjestelmän PoC-version (jatkossa MKTJ-PoC) käyttöä digitointiin, datan tarkasteluun ja keruuseen. </p>
<h2 id="huomioita">Huomioita</h2>
<ul>
<li>Esimerkiksi kuvaustyylit ja tiedonsyöttö-lomakkeet on konfiguroitu QGISissa, ja näitä voidaan muuttaa halutunlaisiksi.</li>
<li>
<p>Projektiin on konfiguroitu QGISissa myös ns. tarttumisasetukset (snapping) digitointia helpottamaan. Tämäkin toiminnallisuus toimii QFieldissa täysin samoin kuin QGISissa.</p>
</li>
<li>
<p>Digitointia voi suorittaa myös hyödyntämällä paikannuslaitteen jäljitystä (tracking) tai esimerkiksi vapaamuotoista piirtoa stylus-kynällä, mutta tässä kuvataan vain perusdigitointi manuaalisesti kohteiden taitepisteitä klikkaillen.</p>
</li>
</ul>
<h2 id="tietojen-keruu-ja-muokkaus">Tietojen keruu ja muokkaus</h2>
<p>QGISissä valmisteltu Geopackage-tiedosto (mktj.gpgk), sisältää tasoja, jotka on mallinnettu yksinkertaistaen Metsäkoetietojärjestelmän  testitietokannan perusteella. Geopackage sisältää samat päätaulut sisältäen samat attribuutit ja tietotyypit, sekä taulujen väliset  relaatiot. Kaikkia koodi-tauluja tai ulkoisia tietolähteitä ei ole testiversiossa mukana. </p>
<ul>
<li>Uutena attribuuttina tasoille on lisätty UUID-kenttä (universally unique identifier) dokumentaation suositusten mukaisesti:
<a href="https://docs.qfield.org/how-to/attributes-form/#key-handling">https://docs.qfield.org/how-to/attributes-form/#key-handling</a>. Tieto takaa, että primääriavaimet pysyvät yksilöivinä offline-työskentelyssäkin. QField täyttää UUID-arvon automaattisesti, eikä tietokenttä välttämättä näyt käyttäjälle.</li>
</ul>
<p>Tasoilla on joitakin muitakin attribuutteja, joiden tiedot QField täyttää automaattisesti oletusarvoilla kuten muokkaaja, luoja, luonti- ja muokkaushetki.</p>
<h3 id="koemetsikko-taso">Koemetsikkö-taso</h3>
<p>Lisätään ensin koemetsikkö. Avaa päävalikko, laita muokkaustila päälle kynäikonista (kts. kuva) ja valitse sitten Koemetsikkö-taso klikkaamalla.</p>
<p><a href="img/qfield_koemetsikko.png"><img src="img/qfield_koemetsikko.png" width="300" /></a></p>
<p>Klikataan takaisin karttaikkunaan ja digitoidaan koemetsikkö haluttuun sijaintiin kartalle. Tämä tapahtuu seuraavasti:</p>
<p><a href="img/koemetsikko_digitointi.gif"><img src="img/koemetsikko_digitointi.gif" width="300" /></a></p>
<p>Pakollisia tietoja on ainoastaan koemetsikön voimassaolon alkupäivä; kun se on lisätty, attribuuttilomake muuttuu punaisesta (jolloin kohteen tallentaminen ei onnistu) vihreäksi, jolloin tietojen tallentaminen onnistuu ylhäältä ruksista. Tietoja voidaan täydentää myöhemmin QFieldissä (muokkaustilassa ja valitsemalla ko. kohde aktiiviseksi) tai QGISissa.</p>
<p>Koemetsiköllä voi olla useita siihen liittyviä muiden tasojen kohteita: siihen voi liittyä monta koealaa, liittyviä kohteita (liittyvät pisteet, viivat ja alueet), toimenpidettä sekä koetta. Nämä hoidetaan Geopackagessa relaatioilla taulujen välillä (avain taulujen välillä on UUID-kenttä). Näitä kohteita voi lisätä suoraan luotavaan koemetsikköön sitä digitoitaessa. On mentävä attribuuttitaulun <strong>Alikohteet"</strong>-välilehdelle ja lisättävä haluttu liittyvä kohde plus-ikonista, jolloin kyseisen tason attribuuttilomake aukeaa:</p>
<p><a href="img/lisaa_alikohde.png"><img src="img/lisaa_alikohde.png" width="300" /></a></p>
<p>Liittyvän kohteen pystyy koemetsikölle lisäämään myöhemminkin myös kyseistä alikohde-tasoa (esim. Koeala) suoraan muokkaamalla.</p>
<h3 id="koeala-taso">Koeala-taso</h3>
<ul>
<li>Digitointi ja tietojen syöttö kuten Koemetsikkö-tasolle. Myös koealalla on relaatio liittyvien pisteiden/viivojen/alueiden tasoihin ja 
koealalle voidaan luoda alikohde näihin tasoihin</li>
</ul>
<h3 id="liittyvat-kohteet">Liittyvät kohteet</h3>
<ul>
<li>Digitointi ja tietojen syöttö kuten Koemetsikkö-tasolle</li>
</ul>
<h3 id="kokeet-ja-toimenpiteet">Kokeet ja toimenpiteet</h3>
<ul>
<li>Kokeet ja toimenpiteet eivät sisällä geometriaa. Tietojen lisääminen tasoille tapahtuu kuitenkin aivan analogisesti edellä kuvattujen geometria-tasojen kanssa. Kohteen lisäys -napista aukeaa kuitenkin nyt suoraan attribuuttilomake geometrian lisäys-työkalun sijaan.</li>
</ul>
<h3 id="tietojen-haku-tasoilta">Tietojen haku tasoilta</h3>
<p>QFieldillä voi hakea kohteita monin tavoin, esimerkiksi tasojen attribuuttien avulla tai koordinaattien avulla (WGS84 sekä projektin koordinaattijärjestelmä (tässä tapauksessa EPSG:3067b) ovat mahdollisia käyttää). Klikkaamalla suurennuslasia QFieldin oikeassa ylänurkassa saa hakuvaihtoehdot esiin:</p>
<p><a href="img/hakuvaihtoehdot.png"><img src="img/hakuvaihtoehdot.png" width="300" /></a></p>
<p>Esimerkiksi aktiiviselta tasolta kohteita voi hakea syntaksilla <code>a @&lt;attribuuttinimi&gt; &lt;attribuutin arvo&gt;</code>: </p>
<p><a href="img/haku_tasoilta.png"><img src="img/haku_tasoilta.png" width="300" /></a></p>
<h3 id="massatoiminnot">Massatoiminnot</h3>
<p>QFieldillä on joitakin ominaisuuksia massamaisiin editointeihin, kuten prosessointialgoritmien ajo usealle kohteelle (esim. orthogonalize, rotate, smooth). </p>
<p>Myös monen kohteen attribuuttien muokkaus:</p>
<ul>
<li>
<p>Klikkaa päävalikossa tasoa &gt; avaa kohdelista &gt; oikeasta yläkulmasta 3 pistettä &gt; vaihda kohdevalinta &gt; ruksi muokattavat kohteet &gt; muokkaa.</p>
</li>
<li>
<p>Tarkemmat ohjeet ja esimerkit tulossa.</p>
</li>
</ul>
<h3 id="karttateemat">Karttateemat</h3>
<ul>
<li>Ei vielä implementoitu</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="3_qfield.html" class="btn btn-neutral float-left" title="3. QFieldin peruskäyttö"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="5_qfieldista_qgissiin.html" class="btn btn-neutral float-right" title="5. QFieldistä QGISiin">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Tekijä: <a href="info@gispo.fi">Gispo Suomi Oy</a></p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="3_qfield.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="5_qfieldista_qgissiin.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
